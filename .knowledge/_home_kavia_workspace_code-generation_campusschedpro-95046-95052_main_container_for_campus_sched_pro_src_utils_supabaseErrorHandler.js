{"is_source_file": true, "format": "JavaScript", "description": "This file provides comprehensive error handling logic for Supabase operations, including categorization of errors, retry strategies, user-friendly messaging, and an error handler function to process and log errors effectively.", "external_files": [], "external_methods": [], "published": ["ErrorTypes", "RetryConfig", "categorizeError", "shouldRetryError", "getRetryDelay", "getUserFriendlyMessage", "handleSupabaseError", "isConnectionError", "isRetryableError"], "classes": [], "methods": [{"name": "categorizeError(error)", "description": "Categorizes an error object into predefined error types for handling.", "scope": "", "scopeKind": ""}, {"name": "shouldRetryError(error, currentAttempt = 0)", "description": "Determines if an error is retryable based on its category and current attempt number.", "scope": "", "scopeKind": ""}, {"name": "getRetryDelay(attempt)", "description": "Calculates an exponential backoff delay for retrying operations.", "scope": "", "scopeKind": ""}, {"name": "getUserFriendlyMessage(error, context = '', attempt = 0)", "description": "Provides a user-friendly message based on the error type, context, and retry state.", "scope": "", "scopeKind": ""}, {"name": "handleSupabaseError(error, context = '', attempt = 0)", "description": "Main function to process an error, log details, and return structured error info.", "scope": "", "scopeKind": ""}, {"name": "isConnectionError(error)", "description": "Checks if an error relates to network or connectivity issues.", "scope": "", "scopeKind": ""}, {"name": "isRetryableError(error)", "description": "Checks if an error is classified as retryable.", "scope": "", "scopeKind": ""}], "calls": ["categorizeError(error)", "shouldRetryError(error, attempt)", "getRetryDelay(attempt)", "getUserFriendlyMessage(error, context, attempt)", "console.error(...)"], "search-terms": ["Supabase error handler", "error categorization", "retry logic", "error user messages", "network error detection"], "state": 2, "file_id": 124, "knowledge_revision": 469, "git_revision": "ea06a2ea151720e5d5534c2338bd8c63045aed37", "revision_history": [{"446": "680683ada47fc615456fd816b696af42f01ff94c"}, {"457": "387f7b12f7b0bd1ca36561a0bef40db617219290"}, {"469": "ea06a2ea151720e5d5534c2338bd8c63045aed37"}], "ctags": [{"_type": "tag", "name": "AUTHENTICATION", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  AUTHENTICATION: 'AUTHENTICATION_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "DATABASE", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  DATABASE: 'DATABASE_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "ErrorTypes", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export const ErrorTypes = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "NETWORK", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  NETWORK: 'NETWORK_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "NOT_FOUND", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  NOT_FOUND: 'NOT_FOUND_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "PERMISSION", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  PERMISSION: 'PERMISSION_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "RATE_LIMIT", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  RATE_LIMIT: 'RATE_LIMIT_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "RetryConfig", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export const RetryConfig = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "SERVER", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  SERVER: 'SERVER_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "UNKNOWN", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  UNKNOWN: 'UNKNOWN_ERROR'$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "VALIDATION", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  VALIDATION: 'VALIDATION_ERROR',$/", "language": "JavaScript", "kind": "property", "scope": "ErrorTypes", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.AUTHENTICATION]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.AUTHENTICATION]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.DATABASE]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.DATABASE]: { shouldRetry: true, maxRetries: 2 },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.NETWORK]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.NETWORK]: { shouldRetry: true, maxRetries: 3 },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.NOT_FOUND]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.NOT_FOUND]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.PERMISSION]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.PERMISSION]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.RATE_LIMIT]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.RATE_LIMIT]: { shouldRetry: true, maxRetries: 2 },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.SERVER]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.SERVER]: { shouldRetry: true, maxRetries: 3 },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.UNKNOWN]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.UNKNOWN]: { shouldRetry: true, maxRetries: 1 }$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "[ErrorTypes.VALIDATION]", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.VALIDATION]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "class", "scope": "RetryConfig", "scopeKind": "class"}, {"_type": "tag", "name": "categorizeError", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export function categorizeError(error) {$/", "language": "JavaScript", "kind": "function", "signature": "(error)"}, {"_type": "tag", "name": "getRetryDelay", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export function getRetryDelay(attempt) {$/", "language": "JavaScript", "kind": "function", "signature": "(attempt)"}, {"_type": "tag", "name": "getUserFriendlyMessage", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export function getUserFriendlyMessage(error, context = '', attempt = 0) {$/", "language": "JavaScript", "kind": "function", "signature": "(error, context = '', attempt = 0)"}, {"_type": "tag", "name": "handleSupabaseError", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export function handleSupabaseError(error, context = '', attempt = 0) {$/", "language": "JavaScript", "kind": "function", "signature": "(error, context = '', attempt = 0)"}, {"_type": "tag", "name": "isConnectionError", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export function isConnectionError(error) {$/", "language": "JavaScript", "kind": "function", "signature": "(error)"}, {"_type": "tag", "name": "isRetryableError", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export function isRetryableError(error) {$/", "language": "JavaScript", "kind": "function", "signature": "(error)"}, {"_type": "tag", "name": "maxRetries", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.DATABASE]: { shouldRetry: true, maxRetries: 2 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.DATABASE]", "scopeKind": "class"}, {"_type": "tag", "name": "maxRetries", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.NETWORK]: { shouldRetry: true, maxRetries: 3 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.NETWORK]", "scopeKind": "class"}, {"_type": "tag", "name": "maxRetries", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.RATE_LIMIT]: { shouldRetry: true, maxRetries: 2 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.RATE_LIMIT]", "scopeKind": "class"}, {"_type": "tag", "name": "maxRetries", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.SERVER]: { shouldRetry: true, maxRetries: 3 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.SERVER]", "scopeKind": "class"}, {"_type": "tag", "name": "maxRetries", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.UNKNOWN]: { shouldRetry: true, maxRetries: 1 }$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.UNKNOWN]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.AUTHENTICATION]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.AUTHENTICATION]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.DATABASE]: { shouldRetry: true, maxRetries: 2 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.DATABASE]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.NETWORK]: { shouldRetry: true, maxRetries: 3 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.NETWORK]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.NOT_FOUND]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.NOT_FOUND]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.PERMISSION]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.PERMISSION]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.RATE_LIMIT]: { shouldRetry: true, maxRetries: 2 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.RATE_LIMIT]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.SERVER]: { shouldRetry: true, maxRetries: 3 },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.SERVER]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.UNKNOWN]: { shouldRetry: true, maxRetries: 1 }$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.UNKNOWN]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetry", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^  [ErrorTypes.VALIDATION]: { shouldRetry: false },$/", "language": "JavaScript", "kind": "property", "scope": "RetryConfig.[ErrorTypes.VALIDATION]", "scopeKind": "class"}, {"_type": "tag", "name": "shouldRetryError", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "pattern": "/^export function shouldRetryError(error, currentAttempt = 0) {$/", "language": "JavaScript", "kind": "function", "signature": "(error, currentAttempt = 0)"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseErrorHandler.js", "hash": "df3217e5144574e560ba66220927a933", "format-version": 4, "code-base-name": "default", "fields": [{"name": "AUTHENTICATION: 'AUTHENTICATION_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "DATABASE: 'DATABASE_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "NETWORK: 'NETWORK_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "NOT_FOUND: 'NOT_FOUND_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "PERMISSION: 'PERMISSION_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "RATE_LIMIT: 'RATE_LIMIT_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "SERVER: 'SERVER_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "UNKNOWN: 'UNKNOWN_ERROR'", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "VALIDATION: 'VALIDATION_ERROR',", "scope": "ErrorTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.DATABASE]: { shouldRetry: true, maxRetries: 2 },", "scope": "RetryConfig.[ErrorTypes.DATABASE]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.NETWORK]: { shouldRetry: true, maxRetries: 3 },", "scope": "RetryConfig.[ErrorTypes.NETWORK]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.RATE_LIMIT]: { shouldRetry: true, maxRetries: 2 },", "scope": "RetryConfig.[ErrorTypes.RATE_LIMIT]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.SERVER]: { shouldRetry: true, maxRetries: 3 },", "scope": "RetryConfig.[ErrorTypes.SERVER]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.UNKNOWN]: { shouldRetry: true, maxRetries: 1 }", "scope": "RetryConfig.[ErrorTypes.UNKNOWN]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.AUTHENTICATION]: { shouldRetry: false },", "scope": "RetryConfig.[ErrorTypes.AUTHENTICATION]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.NOT_FOUND]: { shouldRetry: false },", "scope": "RetryConfig.[ErrorTypes.NOT_FOUND]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.PERMISSION]: { shouldRetry: false },", "scope": "RetryConfig.[ErrorTypes.PERMISSION]", "scopeKind": "class", "description": "unavailable"}, {"name": "[ErrorTypes.VALIDATION]: { shouldRetry: false },", "scope": "RetryConfig.[ErrorTypes.VALIDATION]", "scopeKind": "class", "description": "unavailable"}]}