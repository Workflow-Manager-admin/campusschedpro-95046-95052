{"is_source_file": true, "format": "JavaScript (React)", "description": "This file defines a React Context for managing scheduling data, including state management, data fetching from a backend via utility functions, real-time subscriptions via Supabase, and various operations related to courses, rooms, and schedule allocations.", "external_files": ["../utils/scheduleUtils", "../utils/supabaseClient"], "external_methods": ["findScheduleConflicts", "getAllCourses", "getAllRooms", "getSchedule", "saveCourse", "deleteCourse", "unscheduleCourse", "getAllDepartments", "getAllFaculty", "supabase"], "published": ["useSchedule", "ScheduleProvider"], "classes": [], "methods": [{"name": "useSchedule", "description": "Custom hook that provides access to the ScheduleContext, ensuring it is used within a ScheduleProvider."}, {"name": "ScheduleProvider", "description": "Main React component that creates a context for scheduling data, manages state, subscriptions, and provides methods for manipulating schedule-related data."}, {"name": "loadInitialData", "description": "Fetches initial data from backend services, updates state accordingly, and sets up real-time database subscriptions."}, {"name": "updateAllocations", "description": "Calculates and updates room allocations based on the current schedule, organized by room."}, {"name": "assignRoom", "description": "Assigns a room to a course, updates the database, and reloads the schedule data for synchronization."}, {"name": "addCourse", "description": "Adds a new course to the database and refreshes the local state."}, {"name": "updateCourse", "description": "Updates an existing course in the database and refreshes the local state."}, {"name": "deleteCourseById", "description": "Deletes a course from the database and reloads schedule data to reflect changes."}, {"name": "showNotification", "description": "Displays a notification message to the user."}, {"name": "handleCloseNotification", "description": "Closes the current notification message."}, {"name": "getAllocationsArray", "description": "Transforms the room allocations object into an array suitable for component consumption."}], "calls": ["getAllCourses", "getAllRooms", "getAllDepartments", "getAllFaculty", "getSchedule", "findScheduleConflicts", "saveCourse", "deleteCourse", "unscheduleCourse", "supabase.channel", "supabase.removeChannel"], "search-terms": ["ScheduleContext", "RoomAllocation", "useSchedule", "loadInitialData", "RoomAllocationCalculator", "supabaseSubscriptions", "scheduleUtils", "componentStateManagement", "ReactContextWorkflow", "RealTimeDatabaseSubscriptions"], "state": 2, "file_id": 50, "knowledge_revision": 378, "git_revision": "aa8b3254cf48f56c5fa76ba60b4de60c68051dea", "revision_history": [{"165": "43fe12b44c5821b6fb375cd08c3c404c88e7692c"}, {"194": "4eb7112e224211c59a2813ab2943fea0c3e2778e"}, {"195": "4b50f4ec327ae9224a622cb1668da0c345323d21"}, {"196": "7de1ed46a162c8e9eea89001bdd9cc06e640274b"}, {"205": "e719ddae83de10752be056a550ccacb1acae105c"}, {"206": "9558ad8ff34695fa25ed861a8e3fd0ec2355ebfd"}, {"207": "7d086c816ad97bf4ce22d2c9636a7d2c0f5d9097"}, {"210": "5574142c3f70eb8eccac478c7f0ccefd3af6f33f"}, {"213": "8d7112b9f12c5dfc3633f6f16f1e028b52f67501"}, {"215": "6de49a3e2284fa2f750ae3328dbdd0d24c76ba47"}, {"216": "9557da7f328cc2c79e312748586b01f6e3ccb0e2"}, {"271": "b7cb6d7e5fd0159b2ae7e0edf3f996f6ab04bdf6"}, {"332": "f1ee3ef153853fead5f423ed1901cfc1b0b30001"}, {"358": "afe9339bd90c5e63701e4e658bd9882f2c14bca4"}, {"359": "afe9339bd90c5e63701e4e658bd9882f2c14bca4"}, {"370": "9362f5a5a12fce0a8a61373854ad2fc2dfe4bd92"}, {"371": "faa2ffa8906c58cfe736ba60d7196886f6be5b87"}, {"378": "aa8b3254cf48f56c5fa76ba60b4de60c68051dea"}], "ctags": [], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "hash": "4bdbabe7f74dc12b4da97c655bc8a2c5", "format-version": 4, "code-base-name": "default"}