{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React context for scheduling functionality in a campus scheduling application. It manages state for courses, rooms, faculty, schedule data, conflicts, and room allocations. It includes functions for data loading, real-time subscriptions via Supabase, and operations like assigning rooms and CRUD operations for courses. It serves as the central data management layer for the scheduling feature of the app.", "external_files": ["../utils/scheduleUtils", "../utils/supabaseClient"], "external_methods": ["findScheduleConflicts", "getAllCourses", "getAllRooms", "getSchedule", "saveCourse", "saveRoom", "deleteCourse", "deleteRoom", "unscheduleCourse", "getAllDepartments", "getAllFaculty", "supabase"], "published": ["useSchedule", "ScheduleProvider"], "classes": [], "methods": [{"name": "useSchedule", "description": "Custom React hook to access the ScheduleContext, throws an error if used outside of the ScheduleProvider."}, {"name": "ScheduleProvider", "description": "Main React context provider component that manages scheduling data, subscriptions, and related operations."}], "calls": ["React.createContext", "React.useContext", "React.useState", "React.useEffect", "React.useCallback", "React.useMemo", "findScheduleConflicts", "getAllCourses", "getAllRooms", "getSchedule", "saveCourse", "saveRoom", "deleteCourse", "deleteRoom", "unscheduleCourse", "getAllDepartments", "getAllFaculty", "supabase.channel", "supabase.removeChannel"], "search-terms": ["ScheduleContext", "roomAllocations", "loadInitialData", "assignRoom", "useSchedule", "ScheduleProvider", "conflicts", "courses", "schedule"], "state": 2, "file_id": 50, "knowledge_revision": 548, "git_revision": "bbcca3291d2c9f9f16bcd2126c3c5b8db9fd88c7", "revision_history": [{"165": "43fe12b44c5821b6fb375cd08c3c404c88e7692c"}, {"194": "4eb7112e224211c59a2813ab2943fea0c3e2778e"}, {"195": "4b50f4ec327ae9224a622cb1668da0c345323d21"}, {"196": "7de1ed46a162c8e9eea89001bdd9cc06e640274b"}, {"205": "e719ddae83de10752be056a550ccacb1acae105c"}, {"206": "9558ad8ff34695fa25ed861a8e3fd0ec2355ebfd"}, {"207": "7d086c816ad97bf4ce22d2c9636a7d2c0f5d9097"}, {"210": "5574142c3f70eb8eccac478c7f0ccefd3af6f33f"}, {"213": "8d7112b9f12c5dfc3633f6f16f1e028b52f67501"}, {"215": "6de49a3e2284fa2f750ae3328dbdd0d24c76ba47"}, {"216": "9557da7f328cc2c79e312748586b01f6e3ccb0e2"}, {"271": "b7cb6d7e5fd0159b2ae7e0edf3f996f6ab04bdf6"}, {"332": "f1ee3ef153853fead5f423ed1901cfc1b0b30001"}, {"358": "afe9339bd90c5e63701e4e658bd9882f2c14bca4"}, {"359": "afe9339bd90c5e63701e4e658bd9882f2c14bca4"}, {"374": "8f9d009e81a048133a8e6d555d8bf1cf4525e0a8"}, {"375": "28844ac97b91a9e1c7cccbf5f23285072ae41a29"}, {"376": "54d4f61bf362778f28e3c924dffff4c83b836080"}, {"377": "198521aabea76a81a15996706cbcef019e0e511a"}, {"378": "607ec614ad17d669cb43f5e7382c893cfb0a213e"}, {"379": "61abe82442248e1c83ed7480ec4da331f3dd9a8e"}, {"380": "61abe82442248e1c83ed7480ec4da331f3dd9a8e"}, {"394": "d8710825ca4fd4342671b9d0f4a6342adfcda921"}, {"395": "55d78a412b6112a04c5c844366e791852e8f87fe"}, {"396": "4ea94ea3281887fb0e8fe5226733d45ccf54b13a"}, {"397": "235f800f9e1fca3bc63862478ab29a992cee9587"}, {"398": "235f800f9e1fca3bc63862478ab29a992cee9587"}, {"423": "453bcd97754359767dfb7dc21e996a8e384b5b05"}, {"424": "ad9b72dedbb0d7ee1d8dee8fe00aaf58ac027eff"}, {"425": "ad9b72dedbb0d7ee1d8dee8fe00aaf58ac027eff"}, {"426": "d74ac42a7b66fe243a00323d370c63104bae811c"}, {"429": "1b165cd8c095098eb24bd4a27be3d3c9d4de4e62"}, {"434": "99eab8772d411603ad59b34b2f229231dcbcd730"}, {"462": "e19045f0464a73f50c1f3da720f9479dadd9113d"}, {"463": "e19045f0464a73f50c1f3da720f9479dadd9113d"}, {"464": "36330cf917818c7191c265aa04069628d0cb81f0"}, {"466": "7312aa277379ccfa7ab89934bd17df6b45c4ed36"}, {"467": "8660a7d3ba6e92a5d2119235cb6314b88be1425d"}, {"468": "8660a7d3ba6e92a5d2119235cb6314b88be1425d"}, {"469": "8660a7d3ba6e92a5d2119235cb6314b88be1425d"}, {"472": "c98ade55b11cfe15970ec354bf58086a154489a4"}, {"473": "c98ade55b11cfe15970ec354bf58086a154489a4"}, {"474": "166e87b4db889ec349178e4dade0050f74ce16a4"}, {"475": "166e87b4db889ec349178e4dade0050f74ce16a4"}, {"476": "166e87b4db889ec349178e4dade0050f74ce16a4"}, {"479": "c6bc8322d46b43e3f72ad592a9363d47d275e5a7"}, {"534": "83bbfc6ca94d47f0ae70e5a6df1513e1d9094def"}, {"535": "77eef4b87fa7dd23ee22208bc84ff3015dec748a"}, {"536": "6d8290022e5f96759800f95eceb3a23383c01b92"}, {"537": "6d8290022e5f96759800f95eceb3a23383c01b92"}, {"538": "73b877a181ff17fa79440a23a6c0a615fdf09bcd"}, {"539": "73b877a181ff17fa79440a23a6c0a615fdf09bcd"}, {"540": "5223519935e3a22eb9022bef83eca9c996427fb3"}, {"541": "2578799e3e6fe724d3f921b236c468f9b1585962"}, {"548": "bbcca3291d2c9f9f16bcd2126c3c5b8db9fd88c7"}], "ctags": [{"_type": "tag", "name": "ScheduleContext", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^const ScheduleContext = createContext();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ScheduleProvider", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^export const ScheduleProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "addCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const addCourse = async (courseData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assignRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const assignRoom = async (courseId, roomId, day, timeSlot) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "children", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^export const ScheduleProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "field", "scope": "ScheduleProvider", "scopeKind": "class"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const context = useContext(ScheduleContext);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contextValue", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^    <ScheduleContext.Provider value={contextValue}>$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}, {"_type": "tag", "name": "contextValue", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const contextValue = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "course", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const course = courses.find(c => c.id === courseId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "courseId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const courseId = await saveCourse(courseData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "courses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^    courses,$/", "language": "JavaScript", "kind": "field", "scope": "contextValue", "scopeKind": "class"}, {"_type": "tag", "name": "deleteCourseById", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const deleteCourseById = async (courseId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllocationsArray", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const getAllocationsArray = useCallback(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleCloseNotification", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const handleCloseNotification = useCallback(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^        const newCourse = { id: courseId, ...courseData };$/", "language": "JavaScript", "kind": "property", "scope": "newCourse", "scopeKind": "class"}, {"_type": "tag", "name": "loadInitialData", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const loadInitialData = useCallback(async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^        const newCourse = { id: courseId, ...courseData };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "room", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const room = rooms.find(r => r.id === roomId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setConflicts", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [conflicts, setConflicts] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [courses, setCourses] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setCurrentAcademicYear", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [currentAcademicYear, setCurrentAcademicYear] = useState('2023-2024');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setDepartments", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [departments, setDepartments] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setErrors", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [errors, setErrors] = useState({});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [faculty, setFaculty] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsLoading", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [isLoading, setIsLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setNotification", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [notification, setNotification] = useState({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setRoomAllocations", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [roomAllocations, setRoomAllocations] = useState({});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setRooms", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [rooms, setRooms] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSchedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const [schedule, setSchedule] = useState({});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "showNotification", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const showNotification = useCallback((message, severity = 'info') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "slotId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const slotId = `${day}-${timeSlot}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const success = await deleteCourse(courseId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const success = await saveCourse(courseData);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const success = await saveCourse({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateAllocations", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const updateAllocations = useCallback((scheduleData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^  const updateCourse = async (courseData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^      const updatedCourse = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "useSchedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "pattern": "/^export const useSchedule = () => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/context/ScheduleContext.js", "hash": "a53f4e3d635a1404351f3a6b78957706", "format-version": 4, "code-base-name": "default", "fields": [{"name": "export const ScheduleProvider = ({ children }) => {", "scope": "ScheduleProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "<ScheduleContext.Provider value={contextValue}>", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}, {"name": "courses,", "scope": "contextValue", "scopeKind": "class", "description": "unavailable"}, {"name": "const newCourse = { id: courseId, ...courseData };", "scope": "newCourse", "scopeKind": "class", "description": "unavailable"}]}