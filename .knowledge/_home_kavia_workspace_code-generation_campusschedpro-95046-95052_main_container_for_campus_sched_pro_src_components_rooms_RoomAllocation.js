{"is_source_file": true, "format": "JavaScript", "description": "React component for managing room and course allocations in a campus scheduling system. Provides UI for assigning courses to rooms, viewing allocations, and unassigning courses, with integrated state management and external utility/function calls.", "external_files": ["../../context/ScheduleContext", "./RoomAllocationErrorBoundary", "../../utils/roomUtils", "@mui/material"], "external_methods": ["useSchedule", "isRoomSuitableForCourse"], "published": ["RoomAllocation"], "classes": [], "methods": [{"name": "openAssignDialog", "description": "Opens the dialog for assigning a course to a room."}, {"name": "closeAssignDialog", "description": "Closes the assign course to room dialog."}, {"name": "handleRoomChange", "description": "Handles change in the selected room for assignment."}, {"name": "assignCourseToRoom", "description": "Assigns the selected course to the selected room after validation and updates."}, {"name": "openUnassignDialog", "description": "Opens confirmation dialog for unassigning a course."}, {"name": "closeUnassignDialog", "description": "Closes the unassign confirmation dialog."}, {"name": "unassignCourse", "description": "Unassigns the course from its room and updates the schedule accordingly."}], "calls": ["useSchedule", "updateAllocations", "updateCourse", "showNotification", "isRoomSuitableForCourse", "context.refreshData", "context.unscheduleCourseFromSlot", "window.unscheduleCourse"], "search-terms": ["RoomAllocation React component", "campus schedule management", "assign course to room", "unassign course", "allocation list", "room suitability", "RoomAllocation.js"], "state": 2, "file_id": 43, "knowledge_revision": 407, "git_revision": "25ca6398b9cd9211bf45002462f7291df52717e7", "revision_history": [{"128": "0363ad28caf6ad9365671ca4bde139f3d33748d1"}, {"162": "55d05aa81da2fac38963ccec4bccf823c6180f59"}, {"180": "89af09dced09f8a74b861afb3416b3498a96fea3"}, {"193": "4eb7112e224211c59a2813ab2943fea0c3e2778e"}, {"197": "7de1ed46a162c8e9eea89001bdd9cc06e640274b"}, {"198": "e751f05449a27501b76bca69a646a80c3ea2b357"}, {"199": "14a01bc410ebec5ec6290769887cc7fe41b7359c"}, {"214": "8d7112b9f12c5dfc3633f6f16f1e028b52f67501"}, {"217": "88318cc62c5c96dcef6ecd3a9aafe0403a1e1519"}, {"218": "fe63e380ce2d9c36f70dea0f372a8cdeff317a69"}, {"219": "fe63e380ce2d9c36f70dea0f372a8cdeff317a69"}, {"220": "1c8801e1e8ae0e4324d66487923f0517c660480a"}, {"221": "611ab0c0833918eb060455606f2487e44da4750d"}, {"222": "611ab0c0833918eb060455606f2487e44da4750d"}, {"223": "df79d9cc6e23d10920101a52ae44de523dc9efd6"}, {"224": "df79d9cc6e23d10920101a52ae44de523dc9efd6"}, {"225": "df79d9cc6e23d10920101a52ae44de523dc9efd6"}, {"226": "9a84ac66e3eb25fa780f738044d25cd6e04da470"}, {"227": "fb9f61f04fe2e356596181a2065903bd21dcadf8"}, {"228": "fb9f61f04fe2e356596181a2065903bd21dcadf8"}, {"229": "fb9f61f04fe2e356596181a2065903bd21dcadf8"}, {"230": "4c4d613784d06ff4f3145a97259523214cbf1d09"}, {"233": "dd149258db81df4fade751141d05778684cf0c82"}, {"234": "8ec960e613f4fb38acd51f58a19fc938c9afa0cc"}, {"235": "8639f3ce7fd5e175619c07fbae3d714d6e5055e4"}, {"236": "e0d6df5b09232a822d55e366f8d94c5b687f517e"}, {"331": "00800113017a78f759093ae4c77dd4ffe2c610ec"}, {"372": "50ef89a6035fbb676bd6714e0cb2b99c4a80de61"}, {"405": "5691940824a38fc0309bde5f4a4c7c1a511c41bc"}, {"406": "f0504b40ad03ec653fc9881caf044dd173f9c9bb"}, {"407": "25ca6398b9cd9211bf45002462f7291df52717e7"}], "ctags": [{"_type": "tag", "name": "RoomAllocation", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^const RoomAllocation = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assignCourseToRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^            onClick={assignCourseToRoom} $/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "assignCourseToRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const assignCourseToRoom = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assignDialogOpen", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^        open={assignDialogOpen} $/", "language": "JavaScript", "kind": "field", "scope": "open", "scopeKind": "class"}, {"_type": "tag", "name": "closeAssignDialog", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^          <Button onClick={closeAssignDialog}>Cancel<\\/Button>$/", "language": "JavaScript", "kind": "field", "scope": "fullWidth", "scopeKind": "class"}, {"_type": "tag", "name": "closeAssignDialog", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^        onClose={closeAssignDialog}$/", "language": "JavaScript", "kind": "field", "scope": "onClose", "scopeKind": "class"}, {"_type": "tag", "name": "closeAssignDialog", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const closeAssignDialog = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "closeUnassignDialog", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^        onClose={closeUnassignDialog}$/", "language": "JavaScript", "kind": "field", "scope": "onClose", "scopeKind": "class"}, {"_type": "tag", "name": "closeUnassignDialog", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const closeUnassignDialog = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "completeAllocations", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const completeAllocations = useMemo(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const context = useSchedule();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "filteredCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const filteredCourses = unassignedCourses.filter(course => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleRoomChange", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const handleRoomChange = (event) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "openAssignDialog", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const openAssignDialog = (course) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "openUnassignDialog", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const openUnassignDialog = (course) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "room", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^      const room = rooms.find(r => r && r.id === selectedRoomId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAssignDialogOpen", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [assignDialogOpen, setAssignDialogOpen] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAssignmentError", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [assignmentError, setAssignmentError] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setCourseToUnassign", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [courseToUnassign, setCourseToUnassign] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsAssigning", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [isAssigning, setIsAssigning] = useState(false); \\/\\/ Loading state for assigning$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsRefreshing", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [isRefreshing, setIsRefreshing] = useState(false); \\/\\/ Global refresh\\/alloc refresh in/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsUnassigning", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [isUnassigning, setIsUnassigning] = useState(false); \\/\\/ Loading for unassign$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSearchQuery", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [searchQuery, setSearchQuery] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [selectedCourse, setSelectedCourse] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedRoomId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [selectedRoomId, setSelectedRoomId] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setUnassignDialogOpen", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [unassignDialogOpen, setUnassignDialogOpen] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setViewMode", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const [viewMode, setViewMode] = useState('room');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^      const success = await updateCourse(updatedCourse);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "suitabilityCheck", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^      const suitabilityCheck = isRoomSuitableForCourse(room, selectedCourse);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^            const [day, time] = slot.split('-');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "unassignCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^            onClick={unassignCourse} $/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "unassignCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const unassignCourse = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "unassignDialogOpen", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^        open={unassignDialogOpen}$/", "language": "JavaScript", "kind": "field", "scope": "open", "scopeKind": "class"}, {"_type": "tag", "name": "unassignedCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^  const unassignedCourses = Array.isArray(courses) $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^      const updatedCourse = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "view-tab ${viewMode === 'course' ? 'active' : ''}", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^                className={`view-tab ${viewMode === 'course' ? 'active' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "className", "scopeKind": "class"}, {"_type": "tag", "name": "view-tab ${viewMode === 'room' ? 'active' : ''}", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "pattern": "/^                className={`view-tab ${viewMode === 'room' ? 'active' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "className", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/components/rooms/RoomAllocation.js", "hash": "defa58dca9bdfdad9c791a81e5a1bfa7", "format-version": 4, "code-base-name": "default", "fields": [{"name": "onClick={assignCourseToRoom}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "open={assignDialogOpen}", "scope": "open", "scopeKind": "class", "description": "unavailable"}, {"name": "<Button onClick={closeAssignDialog}>Cancel<\\/Button>", "scope": "fullWidth", "scopeKind": "class", "description": "unavailable"}, {"name": "onClose={closeAssignDialog}", "scope": "onClose", "scopeKind": "class", "description": "unavailable"}, {"name": "onClose={closeUnassignDialog}", "scope": "onClose", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={unassignCourse}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "open={unassignDialogOpen}", "scope": "open", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`view-tab ${viewMode === 'course' ? 'active' : ''}`}", "scope": "className", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`view-tab ${viewMode === 'room' ? 'active' : ''}`}", "scope": "className", "scopeKind": "class", "description": "unavailable"}]}