{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React context and provider component for managing and accessing campus scheduling data via a Supabase backend. It includes hooks for data loading, real-time updates, conflict resolution, and various schedule manipulations.", "external_files": ["../utils/scheduleUtils", "./supabaseClient"], "external_methods": ["findScheduleConflicts", "supabase", "getAllCourses", "getAllRooms", "getSchedule", "scheduleCourse", "unscheduleCourse", "parseTimeSlotId", "getTimeSlotId", "getFacultyIdByName", "getRoomIdByName"], "published": ["useSupabaseSchedule", "SupabaseScheduleProvider"], "classes": [], "methods": [{"name": "useSupabaseSchedule", "description": "Custom hook to access the schedule context, throws an error if used outside the provider."}, {"name": "SupabaseScheduleProvider", "description": "React component that provides schedule data and functions to its children, including data loading, real-time updates, conflict resolution, and schedule editing operations."}], "calls": ["React.createContext", "useContext", "useState", "useEffect", "useCallback", "getAllCourses", "getAllRooms", "getSchedule", "findScheduleConflicts", "supabase.channel", "supabase.removeChannel", "parseTimeSlotId", "getTimeSlotId", "scheduleCourse", "unscheduleCourse", "getFacultyIdByName", "getRoomIdByName"], "search-terms": ["SupabaseScheduleContext", "useSupabaseSchedule", "SupabaseScheduleProvider", "scheduleUtils", "supabaseClient", "Real-time subscriptions", "conflicts", "schedule", "allocation", "loadInitialData"], "state": 2, "file_id": 124, "knowledge_revision": 413, "git_revision": "84cfbaa4fceea667cce96ba4e5ba5bfd75a56eaa", "revision_history": [{"477": "55b186cad2e244d715ed2785f65244ec543621d0"}, {"413": "84cfbaa4fceea667cce96ba4e5ba5bfd75a56eaa"}], "ctags": [{"_type": "tag", "name": "SupabaseScheduleContext", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^const SupabaseScheduleContext = createContext(undefined);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SupabaseScheduleProvider", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^export const SupabaseScheduleProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assignRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const assignRoom = useCallback(async (courseId, roomId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "children", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  children: PropTypes.node.isRequired$/", "language": "JavaScript", "kind": "property", "scope": "SupabaseScheduleProvider.propTypes", "scopeKind": "class"}, {"_type": "tag", "name": "children", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^export const SupabaseScheduleProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "field", "scope": "SupabaseScheduleProvider", "scopeKind": "class"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const context = useContext(SupabaseScheduleContext);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contextValue", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^    <SupabaseScheduleContext.Provider value={contextValue}>$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}, {"_type": "tag", "name": "contextValue", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const contextValue = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "courses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^    courses,$/", "language": "JavaScript", "kind": "field", "scope": "contextValue", "scopeKind": "class"}, {"_type": "tag", "name": "getFacultyIdByName", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const getFacultyIdByName = async (name) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getRoomIdByName", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const getRoomIdByName = async (name) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleCloseNotification", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const handleCloseNotification = useCallback(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "loadInitialData", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const loadInitialData = useCallback(async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "propTypes", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^SupabaseScheduleProvider.propTypes = {$/", "language": "JavaScript", "kind": "class", "scope": "SupabaseScheduleProvider", "scopeKind": "class"}, {"_type": "tag", "name": "removeCourseFromSlot", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const removeCourseFromSlot = useCallback(async (slotId, course, index) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resolveConflict", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const resolveConflict = useCallback(async (conflictId, courseIdToMove, newSlotId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAllocations", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const [allocations, setAllocations] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setConflicts", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const [conflicts, setConflicts] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const [courses, setCourses] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsLoading", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const [isLoading, setIsLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setNotification", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const [notification, setNotification] = useState({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setRooms", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const [rooms, setRooms] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSchedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const [schedule, setSchedule] = useState({});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "showNotification", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const showNotification = useCallback((message, severity = 'info') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateAllocations", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^  const updateAllocations = useCallback(async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "useSupabaseSchedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "pattern": "/^export const useSupabaseSchedule = () => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/SupabaseScheduleContext.js", "hash": "cf9f8771689d2342654f7d90b9270ae5", "format-version": 4, "code-base-name": "default", "fields": [{"name": "children: PropTypes.node.isRequired", "scope": "SupabaseScheduleProvider.propTypes", "scopeKind": "class", "description": "unavailable"}, {"name": "export const SupabaseScheduleProvider = ({ children }) => {", "scope": "SupabaseScheduleProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "<SupabaseScheduleContext.Provider value={contextValue}>", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}, {"name": "courses,", "scope": "contextValue", "scopeKind": "class", "description": "unavailable"}]}