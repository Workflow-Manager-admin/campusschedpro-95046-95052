{"is_source_file": true, "format": "JavaScript", "description": "This file defines a set of utility functions for managing entities such as faculty, courses, rooms, and schedules within a campus scheduling system, interacting with a Supabase backend.", "external_files": ["@supabase/supabase-js"], "external_methods": ["createClient"], "published": ["getAllFaculty", "getFacultyAssignments", "saveFaculty", "deleteFaculty", "getAllCourses", "getCourseAssignments", "saveCourse", "deleteCourse", "getAllRooms", "saveRoom", "deleteRoom", "getSchedule", "scheduleCourse", "unscheduleCourse"], "classes": [], "methods": [{"name": "getAllFaculty", "description": "Fetches all faculty members with their associated departments and expertise, transforming raw data into application-specific structure."}, {"name": "getFacultyAssignments", "description": "Retrieves teaching assignments for a specific faculty member, grouped by course with schedules."}, {"name": "saveFaculty", "description": "Creates or updates a faculty member, including their expertise records."}, {"name": "deleteFaculty", "description": "Deletes a faculty member by ID."}, {"name": "getAllCourses", "description": "Fetches all courses with related department, academic year, and equipment, transforming raw data into structured format."}, {"name": "getCourseAssignments", "description": "Retrieves schedule assignments for specified courses, including instructor and room details."}, {"name": "saveCourse", "description": "Creates or updates a course, handling related equipment associations."}, {"name": "deleteCourse", "description": "Deletes a course by ID."}, {"name": "getAllRooms", "description": "Fetches all rooms with their attributes, building, and equipment."}, {"name": "saveRoom", "description": "Creates or updates a room, including equipment associations."}, {"name": "deleteRoom", "description": "Deletes a room by ID."}, {"name": "getSchedule", "description": "Fetches the full schedule view with relevant fields, grouping schedule entries by time slots."}, {"name": "scheduleCourse", "description": "Schedules a course in a specific time slot with designated faculty and room, updating if existing."}, {"name": "unscheduleCourse", "description": "Removes a course from a specific time slot."}, {"name": "getDepartmentId", "description": "Helper function that retrieves or creates a department ID based on the name."}, {"name": "getBuildingId", "description": "Helper function that retrieves or creates a building ID based on the name."}, {"name": "getEquipmentId", "description": "Helper function that retrieves or creates equipment type ID based on name."}, {"name": "getAcademicYearId", "description": "Helper function that retrieves or creates an academic year ID based on name."}, {"name": "getTimeSlotId", "description": "Retrieves a time slot ID based on day and time."}, {"name": "parseTimeSlotId", "description": "Parses a time slot ID into day and time components."}], "calls": ["createClient", "supabase.from", "supabase.from().select", "supabase.from().eq", "supabase.from().in", "supabase.from().delete", "supabase.from().upsert", "supabase.from().insert", "supabase.from().update", "console.error"], "search-terms": ["supabaseClient", "faculty", "courses", "rooms", "schedule", "scheduleCourse", "getAllFaculty", "saveFaculty", "deleteFaculty", "getAllCourses", "saveCourse", "deleteCourse", "getAllRooms", "saveRoom", "deleteRoom", "getSchedule"], "state": 2, "file_id": 107, "knowledge_revision": 389, "git_revision": "2cbecfe662e30b4d15d773bb6e9f8c3680d4264c", "ctags": [{"_type": "tag", "name": "academicYearId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^  const academicYearId = await getAcademicYearId(course.academicYear);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assignments", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^  const assignments = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assignmentsByCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^  const assignmentsByCourse = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildingId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^  const buildingId = await getBuildingId(room.building);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const deleteCourse = async (courseId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const deleteFaculty = async (facultyId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const deleteRoom = async (roomId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "departmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^  const departmentId = await getDepartmentId(course.department);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "equipmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^      const equipmentId = await getEquipmentId(equipment);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "equipmentRecords", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^    const equipmentRecords = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "expertiseRecords", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^    const expertiseRecords = faculty.expertise.map(exp => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAcademicYearId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^const getAcademicYearId = async (yearName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const getAllCourses = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const getAllFaculty = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllRooms", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const getAllRooms = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getBuildingId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^const getBuildingId = async (buildingName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getCourseAssignments", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const getCourseAssignments = async (courseIds) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDepartmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^const getDepartmentId = async (departmentName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEquipmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^const getEquipmentId = async (equipmentName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getFacultyAssignments", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const getFacultyAssignments = async (facultyId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getSchedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const getSchedule = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getTimeSlotId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const getTimeSlotId = async (day, time) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "parseTimeSlotId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const parseTimeSlotId = (slotId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const saveCourse = async (course) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const saveFaculty = async (faculty) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const saveRoom = async (room) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "schedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^  const schedule = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "scheduleCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const scheduleCourse = async (courseId, facultyId, roomId, timeSlotId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const supabase = createClient(supabaseUrl, supabaseAnonKey);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabaseAnonKey", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^const supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabaseUrl", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^const supabaseUrl = process.env.REACT_APP_SUPABASE_URL;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^  const [day, time] = slotId.split('-');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "unscheduleCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "pattern": "/^export const unscheduleCourse = async (courseId, timeSlotId) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/utils/supabaseClient.js", "hash": "b002523d0cdda01f5bb2729f4854a936", "format-version": 4, "code-base-name": "default", "revision_history": [{"389": "2cbecfe662e30b4d15d773bb6e9f8c3680d4264c"}]}