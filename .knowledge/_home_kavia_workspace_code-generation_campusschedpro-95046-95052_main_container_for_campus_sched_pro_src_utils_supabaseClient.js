{"is_source_file": true, "format": "JavaScript", "description": "This file provides a set of utility functions for managing and interacting with a PostgreSQL database via Supabase, tailored for a university course scheduling application. It includes functions for fetching, creating, updating, and deleting entities such as faculty, courses, rooms, and schedule entries, as well as related helper functions for managing dependencies like departments, buildings, equipment, and academic years.", "external_files": ["@supabase/supabase-js", "./getTimeSlotId"], "external_methods": ["createClient", "getTimeSlotId"], "published": ["getTimeSlotId"], "classes": [], "methods": [{"name": "getAllFaculty", "description": "Fetches all faculty members with associated department and expertise information."}, {"name": "getFacultyAssignments", "description": "Retrieves course assignments for a specific faculty member, including schedule details."}, {"name": "saveFaculty", "description": "Creates or updates a faculty member's record and associated expertise."}, {"name": "deleteFaculty", "description": "Deletes a faculty member by ID."}, {"name": "getAllCourses", "description": "Fetches all courses with related department, academic year, and equipment information."}, {"name": "getCourseAssignments", "description": "Retrieves instructor and room assignments for a list of course IDs."}, {"name": "saveCourse", "description": "Creates or updates a course record and its required equipment."}, {"name": "deleteCourse", "description": "Deletes a course by ID."}, {"name": "getAllRooms", "description": "Fetches all rooms including building and equipment details."}, {"name": "saveRoom", "description": "Creates or updates a room and its equipment."}, {"name": "deleteRoom", "description": "Deletes a room by ID."}, {"name": "getSchedule", "description": "Retrieves the complete course schedule view, organized by time slots."}, {"name": "scheduleCourse", "description": "Schedules a course in a specific time slot with assigned faculty and room."}, {"name": "unscheduleCourse", "description": "Removes a course from a specific time slot."}, {"name": "getDepartmentId", "description": "Helper to get or create a department ID based on name."}, {"name": "getBuildingId", "description": "Helper to get or create a building ID based on name."}, {"name": "getEquipmentId", "description": "Helper to get or create equipment type ID based on name."}, {"name": "getAcademicYearId", "description": "Helper to get or create an academic year ID based on name."}, {"name": "parseTimeSlotId", "description": "Parses a time slot ID string into day and time components."}], "calls": ["createClient", "getTimeSlotId", "supabase.from", "supabase.select", "supabase.eq", "supabase.in", "supabase.delete", "supabase.upsert", "supabase.insert", "supabase.update", "supabase.single", "supabase.maybeSingle"], "search-terms": ["supabaseClient", "faculty management", "course CRUD", "schedule functions", "database helper", "getDepartmentId", "getEquipmentId", "getBuildingId", "getAcademicYearId"], "state": 2, "file_id": 164, "knowledge_revision": 710, "git_revision": "fe5de3e207abb226692ea3336674ad09828a04f2", "revision_history": [{"557": "d202a183ce35285f9637d01219756824d6911ec6"}, {"627": "b77af01683ae68a6f23a8f3bc6c41ffe15ee723b"}, {"658": "ff54f7a5eb32923e384034c3145eb3c6d8eac47f"}, {"676": "44f5530f48306c96be975dd50fb2e0b0d28b96eb"}, {"677": "8e89b9fe3a9af99d404dd52c1b118ee20c346af6"}, {"678": "94eb2ed58a95cfd23c1a8608d69bdb810bfc2998"}, {"679": "34f51e44893ac1b4f96640ed1732f7b9bd04f1ac"}, {"680": "dded02a353c96ec04c3ac06d6bccb80f9e889dee"}, {"681": "dded02a353c96ec04c3ac06d6bccb80f9e889dee"}, {"682": "126e859c75e61638dfa3b6d598ea8d916879f2c7"}, {"683": "1ffa6fb283de7f9a48ba510035caecc396c00804"}, {"685": "8b9884a8a1822d1f69756f935def1c7130cafb73"}, {"686": "8b9884a8a1822d1f69756f935def1c7130cafb73"}, {"687": "6d71bb02a2791f1fe50ab10137dbbee3c998ffd4"}, {"695": "d9aa5d90a20da969526d0e01604c48ca93d958f5"}, {"696": "1a6a8ce2085f2b28bb6731b18813146eb0335b5a"}, {"697": "1a6a8ce2085f2b28bb6731b18813146eb0335b5a"}, {"698": "ab938b0755f2b58f1df447a00c4486ebf639e761"}, {"699": "ab938b0755f2b58f1df447a00c4486ebf639e761"}, {"701": "ea95ee6525921e39bc35b8dd90d76efefd2b8c4c"}, {"702": "ea95ee6525921e39bc35b8dd90d76efefd2b8c4c"}, {"709": "fe5de3e207abb226692ea3336674ad09828a04f2"}, {"710": "fe5de3e207abb226692ea3336674ad09828a04f2"}], "ctags": [{"_type": "tag", "name": "academicYearId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const academicYearId = await getAcademicYearId(course.academicYear);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "academic_year_id", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    academic_year_id: academicYearId$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "assignments", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const assignments = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "assignmentsByCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const assignmentsByCourse = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildingId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const buildingId = await getBuildingId(room.building);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "building_id", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    building_id: buildingId$/", "language": "JavaScript", "kind": "property", "scope": "roomData", "scopeKind": "class"}, {"_type": "tag", "name": "capacity", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    capacity: room.capacity,$/", "language": "JavaScript", "kind": "property", "scope": "roomData", "scopeKind": "class"}, {"_type": "tag", "name": "code", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    code: course.code,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "courseData", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const courseData = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "credits", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    credits: course.credits,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "deleteCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const deleteCourse = async (courseId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const deleteFaculty = async (facultyId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const deleteRoom = async (roomId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "departmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const departmentId = await getDepartmentId(course.department);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "department_id", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    department_id: await getDepartmentId(faculty.department),$/", "language": "JavaScript", "kind": "property", "scope": "facultyData", "scopeKind": "class"}, {"_type": "tag", "name": "department_id", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    department_id: departmentId,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    email: faculty.email,$/", "language": "JavaScript", "kind": "property", "scope": "facultyData", "scopeKind": "class"}, {"_type": "tag", "name": "equipmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^      const equipmentId = await getEquipmentId(equipment);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "equipmentRecords", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    const equipmentRecords = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "expected_enrollment", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    expected_enrollment: course.expectedEnrollment,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "expertiseRecords", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    const expertiseRecords = faculty.expertise.map(exp => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "facultyData", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const facultyData = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "floor", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    floor: room.floor,$/", "language": "JavaScript", "kind": "property", "scope": "roomData", "scopeKind": "class"}, {"_type": "tag", "name": "getAcademicYearId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^const getAcademicYearId = async (yearName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const getAllCourses = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const getAllFaculty = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAllRooms", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const getAllRooms = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getBuildingId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^const getBuildingId = async (buildingName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getCourseAssignments", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const getCourseAssignments = async (courseIds) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDepartmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^const getDepartmentId = async (departmentName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEquipmentId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^const getEquipmentId = async (equipmentName) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getFacultyAssignments", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const getFacultyAssignments = async (facultyId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getSchedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const getSchedule = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    name: course.name,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    name: faculty.name,$/", "language": "JavaScript", "kind": "property", "scope": "facultyData", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    name: room.name,$/", "language": "JavaScript", "kind": "property", "scope": "roomData", "scopeKind": "class"}, {"_type": "tag", "name": "parseTimeSlotId", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const parseTimeSlotId = (slotId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "requires_lab", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    requires_lab: course.requiresLab,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "roomData", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const roomData = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "saveCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const saveCourse = async (course) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const saveFaculty = async (faculty) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveRoom", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const saveRoom = async (room) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "schedule", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const schedule = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "scheduleCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const scheduleCourse = async (courseId, facultyId, roomId, timeSlotId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    status: faculty.status || 'Available'$/", "language": "JavaScript", "kind": "property", "scope": "facultyData", "scopeKind": "class"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const supabase = createClient(supabaseUrl, supabaseAnonKey);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabaseAnonKey", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^const supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY||'eyJhbGciOiJIUzI1NiIsInR5cCI6Ik/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabaseUrl", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^const supabaseUrl = process.env.REACT_APP_SUPABASE_URL||'https:\\/\\/alsthvnrqazftrtluxss.supabase/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const [day, time] = slotId.split('-');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    type: room.type,$/", "language": "JavaScript", "kind": "property", "scope": "roomData", "scopeKind": "class"}, {"_type": "tag", "name": "unscheduleCourse", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const unscheduleCourse = async (courseId, timeSlotId) => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "hash": "b3e25aeef035516857df97b20da689e8", "format-version": 4, "code-base-name": "default", "fields": [{"name": "academic_year_id: academicYearId", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "building_id: buildingId", "scope": "roomData", "scopeKind": "class", "description": "unavailable"}, {"name": "capacity: room.capacity,", "scope": "roomData", "scopeKind": "class", "description": "unavailable"}, {"name": "code: course.code,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "credits: course.credits,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "department_id: await getDepartmentId(faculty.department),", "scope": "facultyData", "scopeKind": "class", "description": "unavailable"}, {"name": "department_id: departmentId,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "email: faculty.email,", "scope": "facultyData", "scopeKind": "class", "description": "unavailable"}, {"name": "expected_enrollment: course.expectedEnrollment,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "floor: room.floor,", "scope": "roomData", "scopeKind": "class", "description": "unavailable"}, {"name": "name: course.name,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "name: faculty.name,", "scope": "facultyData", "scopeKind": "class", "description": "unavailable"}, {"name": "name: room.name,", "scope": "roomData", "scopeKind": "class", "description": "unavailable"}, {"name": "requires_lab: course.requiresLab,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "status: faculty.status || 'Available'", "scope": "facultyData", "scopeKind": "class", "description": "unavailable"}, {"name": "type: room.type,", "scope": "roomData", "scopeKind": "class", "description": "unavailable"}]}