{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for initializing and managing a Supabase client connection, subscribing to real-time updates for various database tables, validating environment variables necessary for connecting to Supabase, and fetching data from specific tables with mapping functions. It is an integral part of a web application's data layer, enabling real-time updates and data retrieval for schedules, faculty, rooms, and other related data entities.", "external_files": ["./dataMappers", "./supabaseErrorHandler", "./supabaseConnectionMonitor"], "external_methods": ["createClient", "mapArray", "mapCourse", "mapFaculty", "mapRoom", "handleSupabaseError", "startMonitoring", "stopMonitoring", "getCurrentConnectionState", "ConnectionState"], "published": ["supabase", "subscribeToSchedules", "subscribeToRoomAllocations", "subscribeToCourses", "subscribeToConflicts", "subscribeToFaculty", "subscribeToRooms", "subscribeToConstraintViolations", "subscribeToEquipment", "fetchCourses", "fetchFaculty", "fetchRooms", "fetchCourseScheduleView", "cleanup"], "classes": [], "methods": [{"name": "validateEnvironment()", "description": "Validates that the required environment variables for Supabase configuration are present and correctly formatted. Throws errors if variables are missing or invalid.", "scope": "", "scopeKind": ""}, {"name": "createSubscription", "description": "Creates a real-time subscription to a specified database table with error handling, reconnection logic, and callback invocation for data changes."}, {"name": "withErrorHandling(queryFn, context)", "description": "Wraps a Supabase query with error handling and connection state checks, providing a unified error handling mechanism.", "scope": "", "scopeKind": ""}, {"name": "fetchCourses()", "description": "Fetches all course data from the database, including related faculty, department, and equipment, then maps the raw data.", "scope": "", "scopeKind": ""}, {"name": "fetchFaculty()", "description": "Fetches all faculty members, including associated department, expertise, and schedule assignments, then maps the data.", "scope": "", "scopeKind": ""}, {"name": "fetchRooms()", "description": "Fetches all room data, including building and equipment details, then maps the data.", "scope": "", "scopeKind": ""}, {"name": "fetchCourseScheduleView()", "description": "Fetches the complete course schedule view with selected columns, providing a comprehensive schedule overview.", "scope": "", "scopeKind": ""}, {"name": "cleanup()", "description": "Stops monitoring the database connection, intended to be called on application unload or hot reloading.", "scope": "", "scopeKind": ""}], "calls": ["createClient", "mapArray", "mapCourse", "mapFaculty", "mapRoom", "startMonitoring", "stopMonitoring", "getCurrentConnectionState", "handleSupabaseError", "supabase.channel", "channel.on", "channel.subscribe", "supabase.from", "supabase.select", "supabase.channel", "setTimeout"], "search-terms": ["supabaseClient", "realtime subscription", "environment variable validation", "Supabase connection monitor", "fetch course data", "fetch faculty data", "fetch room data", "course schedule view", "database change subscriptions", "config validation"], "state": 2, "file_id": 103, "knowledge_revision": 497, "git_revision": "546dea254b1e0e0dfe8cda3f7443650968d1e099", "revision_history": [{"361": "071e3dce5459bb9d93f0d496d15ec70035b8cde1"}, {"373": "bfe4ec33082678b3411d221e5ffcf71eb130bc95"}, {"378": "fad0b0280d693a09f4dd777d68597c8909d1dbef"}, {"379": "e9f5240f9a2fff26730f5969e96015697a4e6ced"}, {"390": "976067f686db60e17bdc33b0761631e80b9e0871"}, {"392": "a66746b259449b3da09a795efff6a80ca7978d25"}, {"393": "a66746b259449b3da09a795efff6a80ca7978d25"}, {"412": "ba238d79a08b4fb9284087068e253f4665534fe7"}, {"415": "2655da39a2fceed2a2fcb3523973761ac20df1eb"}, {"416": "84d46a22b280ecd4390c28cd58c0e576055f1711"}, {"435": "ab174c3518a1a9c29f89485c883c43bb150745c9"}, {"442": "370e7be8dc81dd42c6e2b7401472237d925e2bea"}, {"447": "b2edc84b799f9ff436eecb40b776e4327ca9c6c1"}, {"456": "0af4de082dac299880fcd8b67e8f8f7dae0caddc"}, {"483": "a8b9ed16461eacf073d3408d8bb8ad752e4be431"}, {"497": "546dea254b1e0e0dfe8cda3f7443650968d1e099"}], "ctags": [{"_type": "tag", "name": "REACT_APP_SUPABASE_ANON_KEY", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    REACT_APP_SUPABASE_ANON_KEY: process.env.REACT_APP_SUPABASE_ANON_KEY$/", "language": "JavaScript", "kind": "property", "scope": "validateEnvironment.requiredVars", "scopeKind": "class"}, {"_type": "tag", "name": "REACT_APP_SUPABASE_URL", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^    REACT_APP_SUPABASE_URL: process.env.REACT_APP_SUPABASE_URL||,$/", "language": "JavaScript", "kind": "property", "scope": "validateEnvironment.requiredVars", "scopeKind": "class"}, {"_type": "tag", "name": "channel", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const channel = supabase.channel(channelName);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cleanup", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export function cleanup() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createSubscription", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^const createSubscription = (channelName, table, callback, options = {}) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchCourseScheduleView", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export async function fetchCourseScheduleView() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export async function fetchCourses() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export async function fetchFaculty() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchRooms", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export async function fetchRooms() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "requiredVars", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^  const requiredVars = {$/", "language": "JavaScript", "kind": "class", "scope": "validateEnvironment", "scopeKind": "class"}, {"_type": "tag", "name": "subscribeToConflicts", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToConflicts = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "subscribeToConstraintViolations", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToConstraintViolations = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "subscribeToCourses", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToCourses = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "subscribeToEquipment", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToEquipment = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "subscribeToFaculty", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToFaculty = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "subscribeToRoomAllocations", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToRoomAllocations = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "subscribeToRooms", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToRooms = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "subscribeToSchedules", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const subscribeToSchedules = (callback) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^export const supabase = createClient($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateEnvironment", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^function validateEnvironment() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "withErrorHandling", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "pattern": "/^async function withErrorHandling(queryFn, context) {$/", "language": "JavaScript", "kind": "function", "signature": "(queryFn, context)"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseClient.js", "hash": "12489a7f5ced05a3051761dfaf81431a", "format-version": 4, "code-base-name": "default", "fields": [{"name": "REACT_APP_SUPABASE_ANON_KEY: process.env.REACT_APP_SUPABASE_ANON_KEY", "scope": "validateEnvironment.requiredVars", "scopeKind": "class", "description": "unavailable"}, {"name": "REACT_APP_SUPABASE_URL: process.env.REACT_APP_SUPABASE_URL||,", "scope": "validateEnvironment.requiredVars", "scopeKind": "class", "description": "unavailable"}]}