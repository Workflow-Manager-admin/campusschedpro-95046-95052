{"is_source_file": true, "format": "JavaScript", "description": "This file manages monitoring and maintaining connection status with a Supabase backend, including checking connection health periodically, attempting reconnections with retries, and exposing connection state observables.", "external_files": ["./supabaseClient"], "external_methods": ["supabase.from('health_check').select('count').single()"], "published": ["startMonitoring", "stopMonitoring", "getConnectionState", "getCurrentConnectionState", "ConnectionState"], "classes": [], "methods": [{"name": "checkConnection()", "description": "Performs a simple query to verify the connection to Supabase.", "scope": "", "scopeKind": ""}, {"name": "attemptReconnect()", "description": "Attempts to reconnect to Supabase with retries, updating connection state accordingly.", "scope": "", "scopeKind": ""}, {"name": "startMonitoring()", "description": "Starts regular monitoring of the Supabase connection, including periodic health checks.", "scope": "", "scopeKind": ""}, {"name": "stopMonitoring()", "description": "Stops the ongoing connection monitoring and retries.", "scope": "", "scopeKind": ""}, {"name": "getConnectionState()", "description": "Returns the current connection state as an observable.", "scope": "", "scopeKind": ""}, {"name": "getCurrentConnectionState()", "description": "Returns the current connection state value.", "scope": "", "scopeKind": ""}], "calls": ["supabase.from('health_check').select('count').single()", "console.error()", "connectionState.next()", "setInterval()", "setTimeout()", "clearInterval()", "clearTimeout()", "checkConnection()"], "search-terms": ["supabaseConnectionMonitor", "connectionState", "reconnection", "health_check", "PING_INTERVAL", "RETRY_INTERVAL", "max retries"], "state": 2, "file_id": 123, "knowledge_revision": 444, "git_revision": "3b385583d32994d63e8071fec83cbe0d1b3d3a65", "ctags": [{"_type": "tag", "name": "CONNECTED", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^  CONNECTED: 'connected',$/", "language": "JavaScript", "kind": "property", "scope": "ConnectionState", "scopeKind": "class"}, {"_type": "tag", "name": "CONNECTING", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^  CONNECTING: 'connecting',$/", "language": "JavaScript", "kind": "property", "scope": "ConnectionState", "scopeKind": "class"}, {"_type": "tag", "name": "ConnectionState", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^export const ConnectionState = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "DISCONNECTED", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^  DISCONNECTED: 'disconnected',$/", "language": "JavaScript", "kind": "property", "scope": "ConnectionState", "scopeKind": "class"}, {"_type": "tag", "name": "ERROR", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^  ERROR: 'error'$/", "language": "JavaScript", "kind": "property", "scope": "ConnectionState", "scopeKind": "class"}, {"_type": "tag", "name": "MAX_RETRIES", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^const MAX_RETRIES = 3;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PING_INTERVAL", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^const PING_INTERVAL = 30000; \\/\\/ 30 seconds$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RETRY_INTERVAL", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^const RETRY_INTERVAL = 5000; \\/\\/ 5 seconds$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "attemptReconnect", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^async function attemptReconnect() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "checkConnection", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^async function checkConnection() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "connectionState", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^const connectionState = new BehaviorSubject(ConnectionState.CONNECTING);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getConnectionState", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^export function getConnectionState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentConnectionState", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^export function getCurrentConnectionState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pingInterval", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^let pingInterval = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "retryCount", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^let retryCount = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "retryTimeout", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^let retryTimeout = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "startMonitoring", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^export function startMonitoring() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "stopMonitoring", "path": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "pattern": "/^export function stopMonitoring() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "filename": "/home/kavia/workspace/code-generation/campusschedpro-95046-95052/main_container_for_campus_sched_pro/src/utils/supabaseConnectionMonitor.js", "hash": "c8f24b746213f13a8b5f49b5011b17a9", "format-version": 4, "code-base-name": "default", "fields": [{"name": "CONNECTED: 'connected',", "scope": "ConnectionState", "scopeKind": "class", "description": "unavailable"}, {"name": "CONNECTING: 'connecting',", "scope": "ConnectionState", "scopeKind": "class", "description": "unavailable"}, {"name": "DISCONNECTED: 'disconnected',", "scope": "ConnectionState", "scopeKind": "class", "description": "unavailable"}, {"name": "ERROR: 'error'", "scope": "ConnectionState", "scopeKind": "class", "description": "unavailable"}, {"name": "let pingInterval = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let retryCount = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let retryTimeout = null;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"444": "3b385583d32994d63e8071fec83cbe0d1b3d3a65"}]}